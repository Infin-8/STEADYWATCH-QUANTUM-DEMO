<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Hardware Validation | STEADYWATCHâ„¢</title>
    <meta name="description" content="Complete gallery of IBM Quantum hardware validation runs with screenshots, videos, and verifiable job IDs. All validations executed on real quantum hardware.">
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="styles_validation.css">
    <script src="app.js" defer></script>
</head>
<body>
    <nav>
        <div class="container">
            <a href="https://apps.apple.com/us/app/steadywatch-handheld/id6755752518" class="nav-brand">
                <img src="images/logo.png" alt="STEADYWATCH Logo">
                <span><u>STEADYWATCHâ„¢</u></span>
            </a>
            <button class="mobile-menu-toggle" onclick="toggleMobileMenu()">â˜°</button>
            <ul class="nav-links" id="navLinks">
                <li><a href="index.html">Home</a></li>
                <li><a href="index.html#research-papers">Research</a></li>
                <li><a href="comparison.html">VS</a></li>
                <li><a href="https://github.com/Infin-8/STEADYWATCH-QUANTUM-DEMO/releases/tag/v1.0.0">Documentation</a></li>
                <li><a href="consulting-services.html">Consulting</a></li>
                <li><a href="contact.html" class="nav-cta">Contact</a></li>
            </ul>
        </div>
    </nav>

    <header>
        <div class="container">
            <h1><strong>Quantum Hardware Validations</strong></h1>
            <p>IBM Quantum + AWS Braket</p>
            <p class="subtitle">Complete Gallery of Actual Quantum Hardware Execution</p>
            <p style="margin-top: 20px; max-width: 800px; margin-left: auto; margin-right: auto;">
                All validations executed on real IBM Quantum and AWS Braket hardware. Every job ID is verifiable on the either platform. 
                Screenshots and videos provided for easy review without requiring Quantum platform access.
            </p>
        </div>
    </header>

    <section class="container">
        <div class="stats-summary">
            <h2 style="margin-bottom: 20px;">Validation Statistics</h2>
            <div class="stats-grid">
                <div class="stat-item">
                    <div class="stat-number" id="total-validations">0</div>
                    <div class="stat-label">Total Validations</div>
                </div>
                <!-- <div class="stat-item">
                    <div class="stat-number" id="total-jobs">0</div>
                    <div class="stat-label">Quantum Jobs</div>
                </div> -->
                <!-- <div class="stat-item">
                    <div class="stat-number" id="avg-fidelity">0%</div>
                    <div class="stat-label">Avg Fidelity</div>
                </div> -->
                <!-- <div class="stat-item">
                    <div class="stat-number" id="backends-used">0</div>
                    <div class="stat-label">Backends Used</div>
                </div> -->
            </div>
        </div>

        <div class="filter-buttons">
            <button class="filter-btn active" onclick="filterValidations('all')">All</button>
            <button class="filter-btn" onclick="filterValidations('ghz')">GHZ States</button>
            <button class="filter-btn" onclick="filterValidations('qkd')">QKD Protocol</button>
            <button class="filter-btn" onclick="filterValidations('hybrid')">Hybrid System</button>
            <button class="filter-btn" onclick="filterValidations('echo')">Echo Resonance</button>
            <button class="filter-btn" onclick="filterValidations('seed')">Seed Generation</button>
            <!-- <button class="filter-btn" onclick="filterValidations('bell')">Bell Inequality</button> -->
        </div>

        <div class="validation-gallery" id="validationGallery">
            <!-- Validation cards will be inserted here by JavaScript -->
        </div>
    </section>

    <!-- Modal for full-size media -->
    <div id="mediaModal" class="modal" onclick="closeModal()">
        <span class="close-modal">&times;</span>
        <div class="modal-content" onclick="event.stopPropagation()">
            <img id="modalImage" src="" alt="">
            <video id="modalVideo" controls style="display: none;">
                <source src="" type="video/mp4">
            </video>
        </div>
    </div>

    <script>

let validations = [];

async function loadValidations() {
  try {
    const url = 'https://raw.githubusercontent.com/Infin-8/STEADYWATCH-QUANTUM-DEMO/main/hardware_validations.json';
    const response = await fetch(url);
    
    if (!response.ok) {
      throw new Error(`Failed to fetch: ${response.status} ${response.statusText}`);
    }
    
    const validations = await response.json();
    
    // Safety check (in case it's wrapped or malformed)
    if (!Array.isArray(validations)) {
      console.warn('Data is not an array â€” check JSON structure');
        validations = Array.from(validations);
    }
    
    console.log('egg_1', validations, 'matrix_1');
    return validations;
    
  } catch (error) {
    console.error('Error loading validations:', error);
    return []; // fallback
  }
}

loadValidations()
    .then(data => {
        validations = data;
    })
    .then(() => {
        calculateStats();
        renderValidations('all');
    })
    .catch(console.error);

        
        // Calculate statistics
        function calculateStats() {
            const total = validations.length;
            const uniqueJobs = new Set(validations.map(v => v.jobId)).size;
            const avgFidelity = validations.reduce((sum, v) => {
                const fid = parseFloat(v.fidelity.replace('%', '').split('-')[0]);
                return sum + (isNaN(fid) ? 0 : fid);
            }, 0) / total;
            const backends = new Set(validations.map(v => v.backend)).size;

            document.getElementById('total-validations').textContent = total;
            // document.getElementById('total-jobs').textContent = uniqueJobs;
            // document.getElementById('avg-fidelity').textContent = Math.round(avgFidelity) + '%';
            // document.getElementById('backends-used').textContent = backends;
        }

        // Render validation cards
        function renderValidations(filter = 'all') {
            const gallery = document.getElementById('validationGallery');
            gallery.innerHTML = '';

            const filtered = filter === 'all' 
                ? validations 
                : validations.filter(v => v.category === filter);

            filtered.forEach(validation => {
                const card = document.createElement('div');
                card.className = 'validation-card';
                card.dataset.category = validation.category;

                const mediaHTML = validation.media.type === 'video'
                    ? `<video class="validation-video" controls>
                         <source src="${validation.media.path}" type="video/mp4">
                         Your browser does not support the video tag.
                       </video>`
                    : `<div class="media-container" onclick="openModal('${validation.media.path}', 'image')">
                         <img src="${validation.media.path}" alt="${validation.title}" class="validation-media" onerror="this.src='images/logo.png'">
                         ${validation.video && validation.video.available ? '<div class="play-overlay">^^</div>' : ''}
                       </div>`;

                const linksHTML = validation.links.map(link => 
                    `<a href="${link.url}" target="_blank" class="validation-link">${link.text}</a>`
                ).join('');

                const videoLink = validation.video && validation.video.available
                    ? `<a href="${validation.video.path}" target="_blank" class="validation-link">ðŸ“¹ Watch Video</a>`
                    : '';

                card.innerHTML = `
                    ${mediaHTML}
                    <div class="validation-info">
                        <div class="validation-title">${validation.title}</div>
                        <div class="validation-meta">
                            <span class="meta-badge backend">${validation.backend}</span>
                            <span class="meta-badge fidelity">${validation.fidelity} Fidelity</span>
                            <span class="meta-badge">${validation.qubits} Qubits</span>
                            <span class="meta-badge job-id" onclick="copyJobId('${validation.jobId}')" title="Click to copy">${validation.jobId}</span>
                        </div>
                        <div class="validation-description">${validation.description}</div>
                        <div class="validation-links">${linksHTML}${videoLink}</div>
                    </div>
                `;

                gallery.appendChild(card);
            });
        }

        // Filter validations
        function filterValidations(category) {
            // Update active button
            document.querySelectorAll('.filter-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            event.target.classList.add('active');

            // Render filtered validations
            renderValidations(category);
        }

        // Copy job ID to clipboard
        function copyJobId(jobId) {
            navigator.clipboard.writeText(jobId).then(() => {
                alert(`Job ID ${jobId} copied to clipboard!`);
            });
        }

        // Modal functions
        function openModal(src, type) {
            const modal = document.getElementById('mediaModal');
            const modalImage = document.getElementById('modalImage');
            const modalVideo = document.getElementById('modalVideo');
            
            if (type === 'image') {
                modalImage.src = src;
                modalImage.style.display = 'block';
                modalVideo.style.display = 'none';
            } else {
                modalVideo.src = src;
                modalVideo.style.display = 'block';
                modalImage.style.display = 'none';
            }
            
            modal.style.display = 'block';
        }

        function closeModal() {
            document.getElementById('mediaModal').style.display = 'none';
            const modalVideo = document.getElementById('modalVideo');
            modalVideo.pause();
            modalVideo.src = '';
        }

        // Close modal on Escape key
        document.addEventListener('keydown', (e) => {
            if (e.key === 'Escape') {
                closeModal();
            }
        });

    </script>
</body>
</html>
